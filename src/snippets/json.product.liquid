{%- comment -%}
  Product JSON
    Generates some product data in a nice JSON format.

  Parameters:
    product - Product to dump json for

  Dependencies:
    snippets/json.product.liquid

  Version:
    1.0.0 - 2018/07/23
{%- endcomment -%}
{
  "id": {{- product.id -}},
  "handle": {{- product.handle | json -}},
  "title": {{- product.title | json -}},
  "type": {{- product.type | json -}},
  "price": {{- product.price | json -}},
  "vendor": {{- product.vendor | json -}},
  "tags": {{- product.tags | json -}},
  "options": {{- product.options | json -}},
  "image": {{- product.featured_image | json -}},
  "url": {{- product.url | json -}},
  "variants": [
    {%- for variant in product.variants -%}
      {%- include 'json.variant' with { variant: variant } -%}
      {%- unless forloop.last -%},{%- endunless -%}
    {%- endfor -%}
  ]
  {%- comment -%}
    Important Note:
      If you're looking to add metafields you can do so here (same for variants)

    Example:
      "promotionText": {{- product.metafields.c_f.csx_promotion | json -}},
      "promotionColor": {{- product.metafields.c_f.csx_promotion_colour | json -}}
  {%- endcomment -%}
}
