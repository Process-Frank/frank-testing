{%- comment -%}
  JSON Settings List
    Common snippet between blocks and sections for setting lists

  Version:
    1.0.0 - 2018/09/14
{%- endcomment -%}
{%- capture commonTypes -%}
  title:text,
  text:text,
  menu:link_list,
  image:image
{%- endcapture -%}
{%- assign settingTypesArray = settingTypes | append:',' | append: commonTypes | split: ',' -%}

{%- for setting in settings -%}
  {%- assign type = 'raw' -%}
  {%- assign valueRaw = settings[setting] -%}

  {%- comment -%}/* Find the type this belongs to */{%- endcomment -%}
  {%- for settingType in settingTypesArray -%}
    {%- assign typeDeclartion = settingType | strip | split: ':' -%}
    {%- if typeDeclartion[0] != setting -%}{%- continue -%}{%- endif -%}

    {%- assign type = typeDeclartion[1] -%}
    {%- break -%}
  {%- endfor -%}

  {%- include 'tool.json-setting' with {
    id: setting,
    type: 'text',
    type: type,
    valueRaw: valueRaw
  } -%}
  {%- unless forloop.last -%},{%- endunless -%}
{%- endfor -%}
