{% comment %}
  Variant JSON
    Snippet to include JSON for a variant.

  Parameters:
    variant - Variant to print the JSON for
    print (Optional) - If true print the thumbnail for this variant (defaults to false)

  Version:
    1.0.0 - 2018/08/06
{% endcomment %}
{%- unless product != nil -%}
  {%- assign product = variant.product -%}
{%- endunless -%}

{%- assign variantJson = variant | json -%}

{%- if product -%}
  {%- capture productIdVariant -%}
    "product_id": {{- product.id | json -}},
    "product_handle": {{- product.handle | json -}}
  {%- endcapture -%}

  {%- include 'tool.append-json' with {
    jsonData: variantJson,
    extra: productIdVariant
  } -%}
  {%- assign variantJson = appended -%}
{%- endif -%}

{{- variantJson -}}
