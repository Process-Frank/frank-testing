{% comment %}
  JSON Theme
    Simple snippet that generates all the needed information for the theme on
    React's side

  Version:
    1.0.0 - 2018/08/10
{% endcomment %}

{% comment %}
  I'm attempting to fix an issue built into slate here... This will force slate
  to use the REAL asset url.
{% endcomment %}

{% comment %} Are we in debug mode? {% endcomment %}
{%- include 'tool.is-debug-mode' -%}

{%- capture assetUrl-%}{{- 'icon-cart.svg' | asset_url | remove: 'icon-cart.svg' -}}{%- endcapture -%}
{%- capture fileUrl -%}{{- 'icon-cart.svg' | file_url | remove: 'icon-cart.svg' -}}{%- endcapture -%}

{% comment %} is this a JSON Template? {% endcomment %}
{%- include 'tool.is-json-template' -%}
{%- unless isJSON -%}
  <script type="text/javascript">
    window.Theme = window.Theme ||
{%- endunless -%}

{
  assetUrl: {{ assetUrl | json }},
  fileUrl: {{ fileUrl | json }},
  id: {{ theme.id | json }},
  name: {{ theme.name | json }}
}

{%- unless isJSON -%}
  </script>
{%- endunless -%}
