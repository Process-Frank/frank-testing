{%- comment -%}
  Product Swatches

  Version:
  2.0.0 - 2019/01/21
{% endcomment %}

<div class="o-swatches {% if class != blank %}{{ class }}{% endif %}" data-swatches>
  {%- comment -%} Variant Selector (Controlled by swatches, and fallback for no JS Support {%- endcomment -%}
  <div class="o-swatches__variant-selector no-js">
    {%- include 'object.variant-selector' with { class: 'o-swatches__variant-selector' } -%}
  </div>

  {% comment %} Visual Swatches {% endcomment %}
  {%- unless product.has_only_default_variant -%}
    <div class="o-swatches__swatches has-js">
      {%- for option in product.options_with_values -%}
        {%- assign option_handle = option.name | handle -%}

        {%- comment -%} Container {%- endcomment -%}
        <div class="o-swatches__swatch" data-swatch>

          {% comment %}
            IMPORTANT!!
              Here you can define you various swatch designs
          {% endcomment %}

          {%- if option_handle == 'color' or option_handle == 'colour' -%}
            {% comment %} Color Swatches {% endcomment %}
            <span class="o-swatches__swatch-title">{{ 'products.product.color_picker' | t }}</span>

            <div class="o-swatch__swatch-options" data-swatch-group data-swatch-position="{{ option.position }}" data-index="option{{ option.position }}">
              {%- for value in option.values -%}
                <button
                  type="button"
                  class="o-swatch__swatch-color {%- if option.selected_value == value %} is-selected{% endif %}"
                  data-swatch-object
                  data-value="{{ value | escape }}"
                  data-swatch-position="{{ option.position }}"
                  title="{{ value | escape }}"
                >
                  <div class="o-swatch__swatch-color-inner s-swatch--{{ value | handle }}">
                    <span class="o-swatch__swatch-color-label">
                      {{- value | escape -}}
                    </span>
                  </div>
                </button>
              {%- endfor -%}
            </div>



          {%- else -%}
            {% comment %} Default for "No Swatch" (Dropdown only) {% endcomment %}
            {%- assign optName = option.name -%}
            {%- assign optNameDown = optName | downcase -%}
            {%- if optNameDown == 'value' -%}
              {%- assign optName = 'gift_cards.select' | t -%}
            {%- endif -%}

            <span class="o-swatches__swatch-title">{{- optName | escape -}}</span>

            <select class="o-swatches__swatch-select" data-index="option{{ option.position }}" data-swatch-selector data-swatch-position="{{ option.position }}">
              {%- for value in option.values -%}
                <option value="{{ value | escape }}" {% if option.selected_value == value %}selected="selected"{% endif %} >
                  {{ value }}
                </option>
              {%- endfor -%}
            </select>



          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>
  {%- endunless -%}
</div>
