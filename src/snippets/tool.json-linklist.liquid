{%- comment -%}
  JSON LinkList
    Generates a simple JSON LinkList object
{%- endcomment -%}
{%- if list -%}
  {
    "handle": {{- list.handle | json -}},
    "levels": {{- list.levels | json -}},
    "title": {{- list.title | json -}},
    "links": [
      {%- assign links = '' -%}
      {%- for l in list.links -%}
        {%- capture index -%}{{ forloop.index0 }}{%- endcapture -%}
        {%- assign links = links | append: index -%}
        {%- unless forloop.last -%}
          {%- assign links = links | append: ',' -%}
        {%- endunless -%}
      {%- endfor -%}
      {%- assign links = links | split: ',' -%}

      {%- include 'tool.for-each' with {
        array: links,
        do: 'tool.json-linklist-links',
        data: list.links
      } -%}
    ]
  }
{%- else -%}
  null
{%- endif -%}
