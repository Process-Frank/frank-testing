{%- comment -%}
  Image JSON
    JSON Data for an image

  Parameters:
    image - Image to generate JSON data for.

  Version:
    1.0.0 - 2018/08/06
{%- endcomment -%}
{%- if image != blank -%}
  {
    "id": {{ image.id | json }},
    "alt": {{ image.alt | json }},
    "width": {{ image.width | json }},
    "height": {{ image.height | json }},
    "image": {{ image.src | json }}
    {%- if image.product_id != blank -%}
      ,"product": {{- image.product_id | json -}}
    {%- endif -%}
    {%- if image.attached_to_variant? -%}
      ,
      "variants": [
        {%- for variant in image.variants -%}
          {{- variant.id -}}
        {%- endfor -%}
      ]
    {%- endif -%}
    {%- if image.position != blak and image.position > 0 -%}
      ,"position": {{- image.position | json -}}
    {%- endif -%}
  }
{%- else -%}
  null
{%- endif -%}
