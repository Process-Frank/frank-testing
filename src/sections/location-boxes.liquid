{% comment %}
  Location Boxes
    Section for locations in little Boxes

  Version:
    1.0.0 - 2018/11/16
{% endcomment %}
<section class="c-location-boxes">
  <header role="banner" class="c-section__heading c-location-boxes__heading">
    <h2 class="o-heading is-size-1">
      {{- section.settings.s-title | escape -}}
    </h2>
  </header>

  <div class="c-location-boxes__boxes">

    {%- for block in section.blocks -%}
      <div class="c-location-boxes__box">
        {% comment %} Image {% endcomment %}
        <a href="{{ block.settings.url | default: '#' }}" class="c-location-boxes__box-image">
          {%- include 'tool.picture' with {
            image: block.settings.image,
            class: 'c-location-boxes__box-img'
          } -%}
        </a>

        {% comment %} Content {% endcomment %}
        <div class="c-location-boxes__box-content">
          <h3 class="c-location-boxes__box-title">
            {{- block.settings.title | escape -}}
          </h3>

          <span class="o-location is-block">
            {%- include 'object.icon' with {
              icon: 'location', class: 'o-location__icon',
              title: block.settings.title
            } -%}
            <span class="o-location__title">
              {{- block.settings.location | escape -}}
            </span>
          </span>
        </div>
      </div>
    {%- endfor -%}

  </div>

  <div class="c-section__footer c-location-boxes__footer">
    <a
      href="{{ section.settings.link | default: '#' }}"
      class="o-btn is-secondary is-wide"
    >
      {{ section.settings.label | escape }}
    </a>
  </div>
</section>

{% schema %}
  {
    "name": "Location Boxes",
    "class": "c-section c-section__location-boxes",
    "max_blocks": 8,
    "settings": [
      {
        "id": "s-title",
        "label": "Title",
        "default": "Our Vendors",
        "type": "text"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Button Link"
      },
      {
        "type": "text",
        "id": "label",
        "label": "Button Label",
        "default": "View all vendors"
      }
    ],
    "blocks": [
      {
        "name": "Vendor",
        "type": "vendor",
        "settings": [
          {
            "type": "image_picker",
            "label": "Image",
            "id": "image"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "My Vendor"
          },
          {
            "type": "url",
            "id": "url",
            "label": "Vendor URL"
          },
          {
            "type": "text",
            "id": "location",
            "label": "Location",
            "default": "Newcastle"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Location Boxes",
        "category": "Location"
      }
    ]
  }
{% endschema %}
