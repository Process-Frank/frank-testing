/*
 *  Product Thumbnail Collection
 *    Styles for the Product Thumbnail that appear on the collection
 *
 *  Version:
 *    1.0.0 - 2019/01/19
 */
.o-product-thumbnail-collection {
  padding: 1em;
  width: 100%;

  //Thumbnail wrapper
  &__container {
    padding: 1em;
    height: 100%;
    background: $s-color--background;

    display: flex;
    align-items: flex-start;
    flex-wrap: wrap;

    border: 1px solid $s-color--border-default;
    box-shadow: 0px 0px 0.25em 0px rgba(0,0,0,0.1);
    border-radius: 1em;
    transition: all 0.2s $s-animation--ease-out;
    position: relative;
    overflow: hidden;

    &:hover {
      box-shadow: 0px 0px 0.3em 0px rgba(0,0,0,0.15);
    }
  }

  //Image
  &__picture {
    position: relative;
    display: block;
    width: 100%;
    padding-bottom: 100%;

    &-image {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width:100%;

      @supports(object-fit:contain) {
        height: 100%;
        object-fit: contain;
      }

      .o-product-thumbnail-collection.is-in-cart & {
        opacity: 0.3;
      }
    }

    &-quantity {
      display: none;
      position: absolute;
      background: white;

      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 3em;
      height: 3em;
      border: 3px solid $s-color--secondary;
      color: $s-color--secondary;
      font-size: 3.5em;
      border-radius: 50%;
      font-weight: 600;

      align-items: center;
      justify-content: center;


      &.is-visible {
        display: flex;
      }

    }
  }

  //Item details
  &__details { width: 100%; }
  &__title {
    text-transform: none;
    margin-bottom: 0;
    > a { color: inherit; text-decoration: inherit; }
  }
  &__vendor {
    margin-top: 0;
    color: $s-color--vendor;
  }

  //Add to cart / variant selector
  &__quantity {
    display: flex;
    align-items: center;
    width: 100%;

    &-title {
      display: block;
      flex: 1;
      margin-right: 0.5em;
      font-size: 1.2em;
      color: $s-color--primary;
    }
  }

  &__add-to-cart,
  &__selector {
    margin-top: 0.5em;
    width: 100%;
    align-self: flex-end;
    align-items: center;
  }

  &__selector {
    display: flex;

    &-select {
      flex: 1;
      margin-right: 0.5em;
    }
  }

  //Loading state
  &.is-cart-pending &__loader {
    display: block;
    opacity: 1;
  }

  &.is-cart-pending &__container {
    transform: translateY(-0.2em);
  }
}
